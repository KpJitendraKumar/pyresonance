MODULE main
  VAR
    policy	: {identity,drop};
    infected	: boolean;
  ASSIGN
    init(policy) := identity;
    init(infected) := FALSE;
    next(policy) :=
	case
		infected	: drop;
		TRUE	: identity;
	esac;
    next(infected) :=
	case
		TRUE	: {FALSE,TRUE};
		TRUE	: infected;
	esac;

SPEC AG infected -> (policy=drop)
SPEC AG !infected -> policy=identity
SPEC AG EF policy=identity
SPEC AG EF policy=drop
SPEC EF A [ policy=identity U infected ]
